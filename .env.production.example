# =============================================================================
# DPM - Production Environment Variables
# =============================================================================
# Copy this file to .env and configure for your environment.
# In Portainer, add these as environment variables in the Stack settings.
#
# IMPORTANT: Generate secure secrets for all *_SECRET and *_PASSWORD values!
# Use: openssl rand -base64 32
# =============================================================================

# -----------------------------------------------------------------------------
# Domain Configuration
# -----------------------------------------------------------------------------
# Your domain name (e.g., dpm.example.com)
DOMAIN=dpm.example.com

# Email for Let's Encrypt SSL certificate notifications
ACME_EMAIL=admin@example.com

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# These credentials will be used to create the database on first run
DB_USER=dpm
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DB_NAME=dpm

# -----------------------------------------------------------------------------
# Redis (Cache & Sessions)
# -----------------------------------------------------------------------------
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD_HERE

# -----------------------------------------------------------------------------
# JWT Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_JWT_SECRET_MINIMUM_32_CHARACTERS
JWT_REFRESH_SECRET=CHANGE_ME_JWT_REFRESH_SECRET_MINIMUM_32_CHARACTERS

# -----------------------------------------------------------------------------
# MinIO Object Storage
# -----------------------------------------------------------------------------
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=CHANGE_ME_MINIO_PASSWORD_HERE
STORAGE_BUCKET=dpm-files

# -----------------------------------------------------------------------------
# Stripe (Optional - for subscription billing)
# -----------------------------------------------------------------------------
# Get keys from: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# -----------------------------------------------------------------------------
# Traefik Dashboard (Optional)
# -----------------------------------------------------------------------------
# Generate with: htpasswd -nb admin yourpassword
# Default is disabled. To enable, generate a password hash.
# TRAEFIK_DASHBOARD_AUTH=admin:$apr1$...

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Log level: debug, info, warn, error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# SMTP (Optional - add later for email functionality)
# -----------------------------------------------------------------------------
# Uncomment and configure when ready to enable email
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=noreply@example.com
# SMTP_PASS=CHANGE_ME_SMTP_PASSWORD

# =============================================================================
# Quick Setup Checklist
# =============================================================================
# [ ] Set DOMAIN to your actual domain
# [ ] Set ACME_EMAIL to your email
# [ ] Generate and set DB_PASSWORD
# [ ] Generate and set REDIS_PASSWORD
# [ ] Generate and set JWT_SECRET (openssl rand -base64 32)
# [ ] Generate and set JWT_REFRESH_SECRET (openssl rand -base64 32)
# [ ] Generate and set MINIO_ROOT_PASSWORD
# [ ] Configure Stripe keys if using billing
# [ ] Point your domain DNS to this server's IP
# =============================================================================
